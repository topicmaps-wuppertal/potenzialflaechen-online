(this["webpackJsonppotenzialflaechen-online"]=this["webpackJsonppotenzialflaechen-online"]||[]).push([[0],{308:function(e,n,t){},407:function(e,n,t){},731:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(22),o=t.n(r),l=(t(407),t(123)),s=t(15),c=t(23),u=t.n(c),d=t(46),g=t(6),h=(t(288),t(49)),v=t.n(h),b=(t(290),t(16)),f=t.n(b),p=(t(291),t(83)),j=t(21),m=t(148),O=t(32),x=t(219),k=t(57),y=(t(307),t(308),t(179)),z=t(736),w=t(117),S=t(9),C=t(24),A=t(4),B=function(e){var n=e.setJWT,t=void 0===n?function(e){console.log("you need to set the attribute setJWT in the <Login> component",e)}:n,a=e.loginInfo,r=e.setLoginInfo,o=void 0===r?function(){}:r,l=Object(i.useContext)(C.a).windowSize,c=Object(i.useRef)(),g=Object(i.useRef)(),h={overflowY:"auto",overflowX:"hidden",maxHeight:(null===l||void 0===l?void 0:l.height)||620},v=Object(i.useState)(""),b=Object(s.a)(v,2),p=b[0],j=b[1],m=Object(i.useState)(""),x=Object(s.a)(m,2),k=x[0],B=x[1],F=Object(i.useState)(!1),I=Object(s.a)(F,2),T=I[0],L=I[1];window.localforage=f.a;var P=function(e){f.a.setItem("@"+je+".auth.user",e),j(e)};Object(i.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.getItem("@"+je+".auth.user");case 2:return n=e.sent,e.next=5,f.a.getItem("@"+je+".."+me+"."+Oe+".data");case 5:t=e.sent,L(null!==t&&void 0!==t),n&&P(n),(null===g||void 0===g?void 0:g.current)&&(g.current.focus(),g.current.select());case 9:case"end":return e.stop()}}),e)})))()}),[]);var D=function(){fetch("https://potenzialflaechen-online-api.cismet.de/users",{method:"GET",headers:{Authorization:"Basic "+btoa(p+"@WUNDA_BLAU:"+k),"Content-Type":"application/json"}}).then((function(e){e.status>=200&&e.status<300?e.json().then((function(e){var n=e.jwt;o({color:"#79BD9A",text:"Anmeldung erfolgreich. Daten werden geladen."}),setTimeout((function(){t(n),o()}),500)})):(o({color:"#FF8048",text:"Bei der Anmeldung ist ein Fehler aufgetreten. "}),setTimeout((function(){o()}),2500))})).catch((function(e){o({color:"#FF3030",text:"Bei der Anmeldung ist ein Fehler aufgetreten."}),setTimeout((function(){o()}),2500)}))};return Object(A.jsxs)(y.a,{style:{zIndex:3e9},height:"100%",size:"l",show:!0,keyboard:!1,children:[Object(A.jsx)(y.a.Header,{children:Object(A.jsx)(y.a.Title,{children:Object(A.jsx)("div",{children:Object(A.jsxs)("div",{children:[Object(A.jsx)(S.a,{name:"user"})," Anmeldung"]})})})}),Object(A.jsx)(y.a.Body,{style:h,id:"potenzialflaechen-online",children:Object(A.jsxs)(z.a,{children:[Object(A.jsxs)(z.a.Group,{controlId:"potenzialflaechen-online-login",children:[Object(A.jsx)(z.a.Label,{children:"WuNDa Benutzername"}),Object(A.jsx)(z.a.Control,{value:p,ref:g,onChange:function(e){P(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&c.current&&c.current.focus()},placeholder:"Login hier eingeben"})]}),Object(A.jsxs)(z.a.Group,{controlId:"potenzialflaechen-online-pass",children:[Object(A.jsx)(z.a.Label,{children:"Passwort"}),Object(A.jsx)(z.a.Control,{ref:c,value:k,onChange:function(e){B(e.target.value)},type:"password",placeholder:"Password",onKeyPress:function(e){"Enter"===e.key&&D()}})]}),Object(A.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"baseline",flexDirection:"row",justifyContent:"space-between"},children:[(null===a||void 0===a?void 0:a.text)&&Object(A.jsx)("div",{style:{margin:10,color:(null===a||void 0===a?void 0:a.color)||"black",maxWidth:200},children:Object(A.jsx)("b",{children:null===a||void 0===a?void 0:a.text})}),Object(A.jsx)("div",{style:{flexShrink:100}}),Object(A.jsxs)("div",{children:[!0===T&&Object(A.jsx)(w.a,{onClick:function(e){o({color:"#79BD9A",text:"Alte Daten werden aus dem Cahe \xfcbernommen."}),setTimeout((function(){t(O.a),o()}),500)},style:{margin:5,marginTop:30},variant:"secondary",children:"Offline arbeiten"}),Object(A.jsx)(w.a,{onClick:function(e){D()},style:{margin:5,marginTop:30},variant:"primary",children:"Anmeldung"})]})]})]})},"login")]})},F=function(e){var n=e.setWaiting,t=e.item,i=e.jwt,a=e.setJWT,r=e.setLoginInfo;return{action:function(){if(i&&i!==O.a){n({icon:"file-pdf",title:"Steckbrief "+t.nummer+" wird erzeugt",text:"Nachdem der Steckbrief fertiggestellt wurde, startet automatisch der Download."});var e={parameters:{POTENZIALFLAECHE:parseInt(t.id)}},o=new FormData;o.append("taskparams",new Blob([JSON.stringify(e)],{type:"application/json"})),fetch("https://potenzialflaechen-online-api.cismet.de/actions/WUNDA_BLAU.potenzialflaecheReport/tasks?resultingInstanceType=result",{method:"POST",headers:{Authorization:"Bearer "+i},body:o}).then((function(e){e.status>=200&&e.status<300?e.json().then((function(e){if(e.res){for(var i=atob(e.res),a=new Array(i.length),r=0;r<i.length;r++)a[r]=i.charCodeAt(r);var o=new Uint8Array(a),l=new Blob([o],{type:"application/pdf"}),s=document.createElement("a");s.href=window.URL.createObjectURL(l),s.download="Steckbrief."+t.nummer+".pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s)}else console.log("Probleme beim Erzeugen des Reports");n()})):401===e.status&&(n(),a(void 0),r({color:"#F9D423",text:"Bitte melden Sie sich erneut an."}),setTimeout((function(){r()}),2500))})).catch((function(e){n()}))}else n({icon:"file-pdf",title:"Steckbrief "+t.nummer,text:"Steckbriefe k\xf6nnen im Offline Modus leider nicht erzeugt werden. \xaf\\_(\u30c4)_/\xaf "}),setTimeout((function(){n()}),2500)},iconname:"file-pdf",tooltip:"Steckbrief erzeugen"+(i===O.a?" (Im Offline Modus nicht m\xf6glich)":"")}},I=t(14),T=function(e){var n,t,a,r,o=e.logout,l=e.jwt,s=Object(i.useContext)(C.a).windowSize,c=Object(i.useContext)(I.a).metaInformation;if(c){var u=c.time;n=new Date(u).toLocaleString()}if(l===O.a)t="Daten aus dem Cache",r="anmelden und Daten aktualisieren";else try{a=atob(l.split(".")[1]),t=JSON.parse(a).sub,r="abmelden"}catch(g){}var d=Object(A.jsxs)("div",{children:[Object(A.jsx)("b",{children:"Potenzialfl\xe4chen-Online"})," (",t+(void 0!==n?", "+n:""),")",Object(A.jsx)("div",{style:{float:"right",paddingRight:10},children:Object(A.jsx)("a",{style:{color:"#337ab7"},onClick:function(){o()},children:r})})]});return Object(A.jsx)("table",{style:{width:((null===s||void 0===s?void 0:s.width)||300)-54-12-38-12+"px",height:"30px",position:"absolute",left:54,top:12,zIndex:555},children:Object(A.jsx)("tbody",{children:Object(A.jsx)("tr",{children:Object(A.jsx)("td",{style:{textAlign:"center",verticalAlign:"middle",background:"#ffffff",color:"black",opacity:"0.9",paddingLeft:"10px"},children:d})})})})},L=t(390),P=t.n(L),D=function(e){var n=e.waiting,t=Object(i.useContext)(I.a).selectedFeature;return Object(A.jsxs)(y.a,{style:{zIndex:3e9},height:"200",size:"s",show:void 0!==n,keyboard:!1,children:[Object(A.jsx)(y.a.Header,{children:Object(A.jsxs)(y.a.Title,{children:[Object(A.jsx)(S.a,{name:null===n||void 0===n?void 0:n.icon})," ",null===n||void 0===n?void 0:n.title]})}),Object(A.jsx)(y.a.Body,{children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline"},children:[Object(A.jsx)(P.a,{type:"cylon",color:null===t||void 0===t?void 0:t.properties.color})," ",Object(A.jsx)("div",{style:{marginLeft:20},children:null===n||void 0===n?void 0:n.text})]})})]})},_=t(20),N=t(89),E=t(399),M=t(10),W=t(286),K=t(134),R=t(287),H=t.n(R),G=t(396),J=t.n(G),V=t(174),U=t(75),Y=function(e){var n,t,i=JSON.parse(JSON.stringify(e)),a=null===i||void 0===i?void 0:i.geojson,r=null===i||void 0===i?void 0:i.bezeichnung;i.color=null===i||void 0===i||null===(n=i.kampagne)||void 0===n?void 0:n.color;var o={header:null===i||void 0===i||null===(t=i.kampagne)||void 0===t?void 0:t.bezeichnung,title:r,subtitle:"<html><div><b>Nummer:</b> "+(null===i||void 0===i?void 0:i.nummer)+"</div><div><b>Gr\xf6\xdfe:</b> "+parseInt(null===i||void 0===i?void 0:i.groesse,10).toLocaleString()+" m\xb2</div></html>"};return i.info=o,{id:i.id,text:r,type:"Feature",selected:!1,geometry:a,crs:(null===a||void 0===a?void 0:a.crs)||{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:i}};H.a.extend(J.a);var q=function(e){var n=e.jwt,t=e.setJWT,a=e.setLoginInfo,r=Object(i.useContext)(j.b).zoomToFeature,o=Object(i.useContext)(I.b),l=o.setItems,s=o.setMetaInformation;return Object(i.useEffect)((function(){void 0!==n?Object(O.c)(ve,me,n,Oe).then((function(e){var n,t=H()(e.time,"YYYY-MM-DD hh:mm:ss").toDate(),i=[],a=Object(M.a)(e.data);try{for(a.s();!(n=a.n()).done;){var r=n.value;i.push(Y(r))}}catch(h){a.e(h)}finally{a.f()}for(var o=Object(U.b)(i),c=0,u=function(){var n=g[d],t=Object(U.c)(o,n,i,(function(e){return e.id!==n.id})),a=[];if(t.length>0){var r,l=Object(W.a)(n),s=Object(M.a)(t);try{for(s.s();!(r=s.n()).done;){var u=r.value,v=void 0,b=1;try{b=((v=Object(K.a)(n.geometry,u.geometry))?Object(W.a)(v):0)/l}catch(f){console.log("error during intersection ",f),console.log("error during intersection ",v)}b>.1&&a.push({id:u.properties.id,kampagne:u.properties.kampagne})}}catch(h){s.e(h)}finally{s.f()}}e.data[c].overlapping=a,++c},d=0,g=i;d<g.length;d++)u();l(e.data),s({time:t})}),(function(e){401===e.status&&(t(void 0),a({color:"#F9D423",text:"Bitte melden Sie sich erneut an."}),setTimeout((function(){a()}),2500)),l([]),s()})).catch((function(e){console.log("xxx error ",e)})):l([])}),[n,t,a]),Object(A.jsx)(V.a,{featureClickHandler:function(e){e.originalEvent.stopImmediatePropagation(),!0===e.target.feature.selected&&r(e.target.feature)}})},Q=t(401),Z=t(397),X=function(e){var n=e.filterState;return function(e){var t;return null===n||void 0===n||null===(t=n.kampagnen)||void 0===t?void 0:t.includes(e.kampagne.bezeichnung)}},$=function(e){var n,t=Object(i.useContext)(I.a),a=Object(i.useContext)(I.b).setSelectedFeatureByPredicate,r=t.selectedFeature,o=t.filterState,l=[],s=1,c=X({filterState:o});if(null===r||void 0===r||null===(n=r.properties)||void 0===n?void 0:n.overlapping){var u,d=Object(M.a)(r.properties.overlapping);try{var h=function(){var e=u.value;c(e)&&l.push(Object(A.jsx)("div",{style:{width:350,paddingBottom:3,paddingLeft:5*s,cursor:"pointer"},onClick:function(){a((function(n){var t;return(null===n||void 0===n||null===(t=n.properties)||void 0===t?void 0:t.id)===e.id}))},children:Object(A.jsx)(Z.a,{headerColor:e.kampagne.color,content:e.kampagne.bezeichnung})})),s++};for(d.s();!(u=d.n()).done;)h()}catch(v){d.e(v)}finally{d.f()}}return Object(A.jsx)("div",{children:Object(A.jsx)(Q.a,Object(g.a)(Object(g.a)({},e),{},{secondaryInfoBoxElements:l}))})},ee=t(58),ne=t(92),te=t(225),ie=t(121),ae=t(400),re=t(234),oe=t(232),le=t(229),se="0.9.1",ce=function(){var e=Object(i.useContext)(_.b).setAppMenuActiveMenuSection;return Object(A.jsxs)("div",{style:{fontSize:"11px"},children:[Object(A.jsx)("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 \xa9 RVR | True Orthophoto 2020 \xa9 Stadt Wuppertal | Openmaptiles basierte Vectorkarte (hosted by cismet)"," ",Object(A.jsx)("a",{className:"pleaseRenderAsLink",onClick:function(){e("help"),ne.scroller.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsxs)("b",{children:[document.title," v",se]}),":"," ",Object(A.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(A.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(A.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",le.a]})," ","|"," ",Object(A.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})]})},ue=function(){var e,n=Object(i.useContext)(_.b).setAppMenuActiveMenuSection,t=Object(i.useContext)(I.a),a=t.filterState,r=t.filterMode,o=t.filteredItems,l=t.shownFeatures,s=Object(i.useContext)(I.b),c=s.setFilterState,u=s.setFilterMode,d=Object(i.useContext)(I.a).items,h=[],v=[],b=Object(M.a)(d||[]);try{for(b.s();!(e=b.n()).done;){var f=e.value;h.includes(f.kampagne.bezeichnung)||(h.push(f.kampagne.bezeichnung),v.push({key:f.kampagne.bezeichnung,title:f.kampagne.bezeichnung,color:f.kampagne.color,icon:"square",iconPos:"pre",order:f.kampagne.order_by}))}}catch(x){b.e(x)}finally{b.f()}v.sort((function(e,n){return parseInt(e.order)-parseInt(n.order)})),h=[];for(var p=0,j=v;p<j.length;p++){var m=j[p];h.push(m.key)}var O={mode:"list",resetedFilter:{kampagnen:h},filters:[{title:"Kampagnen",key:"kampagnen",icon:"layer-group",type:"checkBoxes",values:v,setAll:function(){c(Object(g.a)(Object(g.a)({},a),{},{kampagnen:h}))},setNone:function(){c(Object(g.a)(Object(g.a)({},a),{},{kampagnen:[]}))}}]};void 0===a&&void 0!==d&&0!==d.length&&c({kampagnen:h}),void 0===r&&void 0!==d&&u("kampagnen");return Object(A.jsx)(te.a,{menuIcon:"bars",menuTitle:"Meine Potenzialfl\xe4chen, Einstellungen und Kompaktanleitung",menuIntroduction:Object(A.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(A.jsx)(ne.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return n("filter")},children:"Meine Potenzialfl\xe4chen"}),", um die in der Karte angezeigten Potenzialfl\xe4chen auf die f\xfcr Sie relevanten Themen zu beschr\xe4nken. \xdcber"," ",Object(A.jsx)(ne.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return n("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte an Ihre Interessen anpassen. W\xe4hlen Sie die"," ",Object(A.jsx)(ne.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return n("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(A.jsx)(ie.a,{sectionKey:"filter",sectionTitle:function(){var e,n=(null===o||void 0===o?void 0:o.length)||0;return e=1===n?"Fl\xe4che":"Fl\xe4chen","Meine Potenzialfl\xe4chen (".concat(n," ").concat(e," gefunden, davon ").concat((null===l||void 0===l?void 0:l.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(A.jsx)(ae.a,{filterConfiguration:O})},"filter"),Object(A.jsx)(re.a,{skipFilterTitleSettings:!0,skipClusteringSettings:!0,skipSymbolsizeSetting:!0},"settings"),Object(A.jsx)(ie.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(A.jsx)(oe.a,{configs:Object(ee.c)("Potenzialfl\xe4chen Online",{content:"Nach \xa7 200 Baugesetzbuch k\xf6nnen Gemeinden bebaubare Fl\xe4chen in Karten und Listen erfassen \n(Baulandkataster). Im Rahmen des F\xf6rderprogramms Digitale Modellregionen konnte im Jahr 2021 das **Potenzialfl\xe4chenkataster** \nder Abteilung 101.1 Stadtentwicklung in das Wuppertaler Navigations- und Datenmanagementsystem WuNDa integriert und der \nAufbau eines Baul\xfcckenkatasters gestartet werden. Potenzialfl\xe4chen sind Fl\xe4chen ab 2000 m\xb2, Baul\xfccken haben eine Gr\xf6\xdfe von 400 \u2013 2000 m\xb2.\n\nAuf der Basis der eingepflegten digitalisierten und georeferenzierten Fl\xe4cheninformationen, die laufend aktualisiert werden, \nwurde die mobile Anwendung \u201ePotenzialfl\xe4chen Online\u201c entwickelt. Sie erlaubt es, auf verschiedenen Endger\xe4ten \nortsunabh\xe4ngig auf die Datenbank und die kartographischen Darstellungen (= Kataster) zuzugreifen.\n  \nNeben der r\xe4umlichen Abgrenzung und Lage k\xf6nnen alle **Informationen** zu Gewerbe- und Wohnbaufl\xe4chenpotenzialen, \nallen Brachfl\xe4chen und weiteren Fl\xe4chensammlungen im ganzen Stadtgebiet oder in ausgew\xe4hlten Bezirken bzw. Quartieren \ngesucht und angezeigt werden. Auf online lesbaren Datenbl\xe4ttern oder in pdf-Dateien werden alle relevanten Daten der \neinzelnen Fl\xe4chen angezeigt: \n**Fl\xe4chennummer** (diese beginnt immer mit der Stadtbezirksnummer), **Bezeichnung** (Name der Fl\xe4che), Gr\xf6\xdfe (in m\xb2 und gerundet in ha), \n**Stadtbezirk/e**, **Quartier/e**, betroffene **Flurst\xfcck/e**, **Eigent\xfcmerkategorie/n** (anonymisiert), **Lagebewertungen** \n(bezogen auf den Verkehr und auf den Siedlungsraum), **\xd6PNV-Qualit\xe4t** (Schienen- und Busanbindung), **N\xe4he zu Verkehrswegen** (Autobahn bis Fahrradtrasse), \n**Topographie** (mit Angabe der Hangrichtung), **Planungsrecht** (Angaben zum Regionalplan, Fl\xe4chennutzungsplan, Bebauungspl\xe4nen), **Umgebungsnutzungen**, \nvorhandene **Nutzung**, **Bebauung** und **Versiegelung**, **Wohnlagen** (gem. Gutachterausschuss), **Bodenrichtwert/e**, **Beschreibungen** \n(Historie, Informationen, Planungen) und **Bewertungen** (Innen- oder Au\xdfenentwicklung, Potenzialarten, Restriktionen, Empfohlene Nutzung, \n  Entwicklungsaussichten, Verf\xfcgbarkeit, Verwertbarkeit, Revitalisierung, Handlungsdruck, Handlungspriorit\xe4t). \n  \nAnmerkungen und Hinweise k\xf6nnen an  [christiane.classen@stadt.wuppertal.de](mailto:christiane.classen@stadt.wuppertal.de) \n(R 101.11 Intergierte Stadtentwicklung und regionale Kooperation) gesendet werden."})})},"help")],menuFooter:Object(A.jsx)(ce,{})})},de=t(108),ge=t(402),he=function(){var e=Object(i.useContext)(I.a).selectedFeature,n=null===e||void 0===e?void 0:e.properties;if(void 0!==n){var t,a=[],r=function(e,n,t){return n&&void 0===t&&!1===Array.isArray(n)?Object(A.jsxs)("div",{children:[Object(A.jsxs)("b",{children:[e,":"]})," ",n]}):n&&void 0===t&&!0===Array.isArray(n)?Object(A.jsxs)("div",{children:[Object(A.jsxs)("b",{children:[e,":"]})," ",n.join(", ")]}):n&&void 0!==t?Object(A.jsxs)("div",{children:[Object(A.jsxs)("b",{children:[e,":"]})," ",t(n)]}):void 0};return((null===n||void 0===n?void 0:n.lagebewertung_verkehr)||(null===n||void 0===n?void 0:n.oepnv)||(null===n||void 0===n?void 0:n.naehe_zu)||(null===n||void 0===n?void 0:n.siedlungsraeumliche_lage)||(null===n||void 0===n?void 0:n.topografie)||(null===n||void 0===n?void 0:n.hang))&&a.push(Object(A.jsx)(de.a,{bsStyle:"info",header:"Lagebeschreibung",children:Object(A.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r("Lagebewertung Verkehr",null===n||void 0===n?void 0:n.lagebewertung_verkehr),r("\xd6PNV Qualit\xe4t",null===n||void 0===n?void 0:n.oepnv),r("N\xe4he zu",null===n||void 0===n?void 0:n.naehe_zu),r("Siedlungsr\xe4umliche Lage",null===n||void 0===n?void 0:n.siedlungsraeumliche_lage),r("Topografie",null===n||void 0===n?void 0:n.topografie),r("Hangrichtung",null===n||void 0===n?void 0:n.hang)]})},"standort")),((null===n||void 0===n?void 0:n.regionalplan)||(null===n||void 0===n?void 0:n.bplaene)||(null===n||void 0===n?void 0:n.festsetzungen_bplan)||(null===n||void 0===n?void 0:n.bauordnungsrecht_genehmigung)||(null===n||void 0===n?void 0:n.bauordnungsrecht_genehmigung)||(null===n||void 0===n?void 0:n.stand_bauordnungsrecht))&&a.push(Object(A.jsx)(de.a,{bsStyle:"danger",header:Object(A.jsx)("span",{children:"Planungsrecht / Bauordnungsrecht"}),children:Object(A.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r("Regionalplan",null===n||void 0===n?void 0:n.regionalplan),r("Bebauungspl\xe4ne",null===n||void 0===n?void 0:n.bplaene),r("Festsetzungen",null===n||void 0===n?void 0:n.festsetzungen_bplan),r("Bauordnungsrecht (Stand)",null===n||void 0===n?void 0:n.stand_bauordnungsrecht)]})},"standort")),((null===n||void 0===n?void 0:n.umgebungsnutzung)||(null===n||void 0===n?void 0:n.brachflaechen)||(null===n||void 0===n?void 0:n.jahr_brachflaeche)||(null===n||void 0===n?void 0:n.bisherige_nutzung)||(null===n||void 0===n?void 0:n.bestand_bebauung)||(null===n||void 0===n?void 0:n.versiegelung)||(null===n||void 0===n?void 0:n.aeussere_erschliessung)||(null===n||void 0===n?void 0:n.wohnlagen)||(null===n||void 0===n?void 0:n.klimainformationen))&&a.push(Object(A.jsx)(de.a,{bsStyle:"success",header:"Erweiterte Informationen",children:Object(A.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r("Umgebungsnutzung",null===n||void 0===n?void 0:n.umgebungsnutzung),r("Brachfl\xe4che",null===n||void 0===n?void 0:n.brachflaechen),r("Nutzungsaufgabe",null===n||void 0===n?void 0:n.jahr_brachflaeche),r("Bisherige Nutzung",null===n||void 0===n?void 0:n.bisherige_nutzung),r("Bestand Bebauung",null===n||void 0===n?void 0:n.bestand_bebauung),r("Bestand Versiegelung",null===n||void 0===n?void 0:n.versiegelung),r("\xc4u\xdfere Erschlie\xdfung",null===n||void 0===n?void 0:n.aeussere_erschliessung),r("Wohnlagen",null===n||void 0===n?void 0:n.wohnlagen),r("Klimainformationen",null===n||void 0===n?void 0:n.klimainformationen)]})},"standort")),(null===n||void 0===n?void 0:n.beschreibung_flaeche)&&a.push(Object(A.jsx)(de.a,{bsStyle:"warning",header:"Beschreibung",children:Object(A.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[null===n||void 0===n?void 0:n.beschreibung_flaeche.split("\n").map((function(e,n){return Object(A.jsx)("p",{children:e},"beschreibung.part"+n)})),r("Quelle",null===n||void 0===n?void 0:n.quelle),r("Stand",null===n||void 0===n?void 0:n.stand,(function(e){try{var n=new Date(e);return n.getDate()+"."+(n.getMonth()+1)+"."+n.getFullYear()}catch(t){return e}}))]})},"standort")),(null===n||void 0===n?void 0:n.notwendige_massnahmen)&&a.push(Object(A.jsx)(de.a,{bsStyle:"success",header:"Notwendige Ma\xdfnahmen / N\xe4chste Schritte",children:Object(A.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(A.jsx)("p",{children:null===n||void 0===n?void 0:n.notwendige_massnahmen})})},"standort")),((null===n||void 0===n?void 0:n.kategorie)||(null===n||void 0===n?void 0:n.potenzialart)||(null===n||void 0===n?void 0:n.entwicklungsstand)||(null===n||void 0===n?void 0:n.restriktionen)||(null===n||void 0===n?void 0:n.empfohlene_nutzungen_wohnen)||(null===n||void 0===n?void 0:n.wohneinheiten)||(null===n||void 0===n?void 0:n.entwicklungsaussichten)||(null===n||void 0===n?void 0:n.verfuegbarkeit)||(null===n||void 0===n?void 0:n.verwertbarkeit)||(null===n||void 0===n?void 0:n.handlungsprioritaet)||(null===n||void 0===n?void 0:n.empfohlene_nutzungen)||(null===n||void 0===n?void 0:n.revitalisierung)||(null===n||void 0===n?void 0:n.handlungsdruck))&&a.push(Object(A.jsx)(de.a,{bsStyle:"info",header:"Bewertung",children:Object(A.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r("Kategorie",null===n||void 0===n?void 0:n.kategorie),r("Potenzialart",null===n||void 0===n?void 0:n.potenzialart),r("Entwicklungsstand",null===n||void 0===n?void 0:n.entwicklungsstand),r("Restriktionen / Hemnisse",null===n||void 0===n?void 0:n.restriktionen),r("Empfohlene Art der Wohnnutzung",null===n||void 0===n?void 0:n.empfohlene_nutzungen_wohnen),r("Anzahl m\xf6g. Wohneinheiten",null===n||void 0===n?void 0:n.wohneinheiten,(function(e){return Object(A.jsxs)("span",{children:[(null===n||void 0===n?void 0:n.anzahl_wohneinheiten)&&Object(A.jsxs)("span",{children:[" ",null===n||void 0===n?void 0:n.anzahl_wohneinheiten]})," ",e]})})),r("Entwicklungsaussichten",null===n||void 0===n?void 0:n.entwicklungsaussichten),r("Verf\xfcgbarkeit",null===n||void 0===n?void 0:n.verfuegbarkeit),r("Verwertbarkeit",null===n||void 0===n?void 0:n.verwertbarkeit),r("Handlungspriorit\xe4t (Verwaltung)",null===n||void 0===n?void 0:n.handlungsprioritaet),r("Empfohlene Nutzung",null===n||void 0===n?void 0:n.empfohlene_nutzungen),r("Revitalisierung",null===n||void 0===n?void 0:n.revitalisierung),r("Handlungsdruck",null===n||void 0===n?void 0:n.handlungsdruck)]})},"standort")),null!==new URLSearchParams(window.location.href).get("showRawData")&&a.push(Object(A.jsx)(de.a,{bsStyle:"info",header:"Potenzialfl\xe4che (raw data): "+(null===n||void 0===n?void 0:n.nummer),children:Object(A.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(A.jsx)("pre",{children:JSON.stringify(n,null,2)})})},"standort")),Object(A.jsx)(ge.a,{titleIconName:"info-circle",title:"Datenblatt: "+(null===n||void 0===n?void 0:n.bezeichnung),mainSection:Object(A.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(A.jsxs)("div",{children:[r("Nummer",null===n||void 0===n?void 0:n.nummer),r("Bezeichnung",null===n||void 0===n?void 0:n.bezeichnung),r("Kampagne",null===n||void 0===n||null===(t=n.kampagne)||void 0===t?void 0:t.bezeichnung),r("Fl\xe4chengr\xf6\xdfe",null===n||void 0===n?void 0:n.groesse,(function(e){return Object(A.jsxs)("span",{children:[e.toLocaleString()," m\xb2 (circa"," ",(Math.round(e/1e4*10)/10).toLocaleString()," ha)"]})})),r("Stadtbezirk(e)",null===n||void 0===n?void 0:n.stadtbezirke,(function(e){return e.join(", ")})),r("Quartier(e)",null===n||void 0===n?void 0:n.quartiere,(function(e){return e.join(", ")})),r("Eigent\xfcmer",null===n||void 0===n?void 0:n.eigentuemer,(function(e){return e.join(", ")}))]})}),subSections:a})}return null};Object(g.a)({},k.b).namedLayers.cismetLight={type:"vector",style:"https://omt.map-hosting.de/styles/cismet-light/style.json"};var ve="Potenzialflaechen.Online.Wuppertal";var be=function(e){var n=e.gazData,t=e.jwt,a=e.setJWT,r=e.setLoginInfo,o=Object(i.useContext)(I.b),l=o.setSelectedFeatureByPredicate,s=o.setFilterState,c=Object(i.useContext)(j.b).zoomToFeature,u=Object(i.useContext)(j.a).history,d=Object(i.useContext)(_.b),g=d.setAppMenuActiveMenuSection,h=d.setAppMenuVisible;return Object(i.useEffect)((function(){var e=function(e){if(!0===(null!=new URLSearchParams(e).get("cleanStart"))){var n=Object(N.b)(e,"cleanStart");u.push(n),s({kampagnen:[]}),h(!0),setTimeout((function(){g("filter")}),50)}};return e(u.location.search),u.listen((function(){e(u.location.search)}))}),[u,s,h,g]),Object(A.jsx)(E.a,{mapStyle:{backgroundColor:"white"},gazData:n,homeZoom:13,maxZoom:22,locatorControl:!0,modalMenu:Object(A.jsx)(ue,{}),infoBox:Object(A.jsx)($,{pixelwidth:350,config:{displaySecondaryInfoAction:!0,city:"Wuppertal",navigator:{noun:{singular:"Potenzialfl\xe4che",plural:"Potenzialfl\xe4chen"}},noCurrentFeatureTitle:"Keine Potenzialfl\xe4chen gefunden",noCurrentFeatureContent:""}}),secondaryInfo:Object(A.jsx)(he,{}),gazetteerHitTrigger:function(e){var n,t;Array.isArray(e)&&(null===(n=e[0])||void 0===n||null===(t=n.more)||void 0===t?void 0:t.pid)&&l((function(n){try{var t=parseInt(n.properties.id)===e[0].more.pid;return!0===t&&c(n),t}catch(i){return!1}}))},children:Object(A.jsx)(q,{jwt:t,setJWT:a,setLoginInfo:r})})};Object(g.a)({},k.b).namedLayers.cismetLight={type:"vector",style:"https://omt.map-hosting.de/styles/cismet-light/style.json"};var fe="https://wupp-topicmaps-data.cismet.de",pe=new v.a("#2664D8"),je="Potenzialflaechen.Online.Wuppertal",me="https://potenzialflaechen-online-api.cismet.de",Oe="potenzialflaechen",xe=function(){var e=Object(d.a)(u.a.mark((function e(n){var t,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="GazDataForStories",i={},e.next=4,Object(O.e)(t,fe+"/data/3857/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(O.e)(t,fe+"/data/3857/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(O.e)(t,fe+"/data/3857/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(O.e)(t,fe+"/data/3857/pois.json");case 13:return i.pois=e.sent,e.next=16,Object(O.e)(t,fe+"/data/3857/kitas.json");case 16:i.kitas=e.sent,a=Object(x.b)(i,["pois","kitas","bezirke","quartiere","adressen"]),n(a);case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ke=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(i.useState)([]),o=Object(s.a)(r,2),c=o[0],g=o[1],h=Object(i.useState)([]),b=Object(s.a)(h,2),x=b[0],k=b[1];Object(i.useEffect)((function(){k([].concat(Object(l.a)(c||[]),Object(l.a)(t)))}),[t,c]),Object(i.useEffect)((function(){xe(a),document.title="Potenzialfl\xe4chen-Online Wuppertal"}),[]);var y,z=Object(i.useState)(),w=Object(s.a)(z,2),S=w[0],C=w[1],I=Object(i.useState)(),L=Object(s.a)(I,2),P=L[0],_=L[1],N=Object(i.useState)(),E=Object(s.a)(N,2),M=E[0],W=E[1],K=function(e){f.a.setItem("@"+je+".auth.jwt",e),C(e)};return Object(i.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.getItem("@"+je+".auth.jwt");case 2:n=e.sent,K(n||void 0);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(i.useEffect)((function(){S?Object(O.c)(je,me,S,"potenzialflaechenGaz").then((function(e){g(e.data)}),(function(e){401===e.status&&(K(void 0),_({color:"#F9D423",text:"Bitte melden Sie sich erneut an."}),setTimeout((function(){_()}),2500)),g([])})).catch((function(e){console.log("xxx error ",e)})):g([])}),[S]),y=-1===Object(m.a)()?[{title:"Stadtplan (grau)",mode:"default",layerKey:"stadtplan"},{title:"Stadtplan (Vektordaten light)",mode:"default",layerKey:"vector"},{title:"Amtliche Basiskarte",mode:"default",layerKey:"abkg"},{title:"Luftbildkarte",mode:"default",layerKey:"lbk"}]:[{title:"Stadtplan",mode:"default",layerKey:"stadtplan"},{title:"Amtliche Basiskarte",mode:"default",layerKey:"abkg"},{title:"Luftbildkarte",mode:"default",layerKey:"lbk"}],Object(A.jsxs)(j.c,{appKey:je,backgroundConfigurations:{lbk:{layerkey:"rvrGrau@50|trueOrtho2020@40",src:"/images/rain-hazard-map-bg/ortho.png",title:"Luftbildkarte"},stadtplan:{layerkey:"rvrGrau@45",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"},vector:{layerkey:"cismetLight",src:"/images/rain-hazard-map-bg/citymap.png",title:"Stadtplan"},abkg:{layerkey:"bplan_abkg@70",src:"/images/rain-hazard-map-bg/citymap.png",title:"Amtliche Basiskarte"}},backgroundModes:y,referenceSystem:p.b.crs3857,mapEPSGCode:"3857",referenceSystemDefinition:p.b.proj4crs3857def,maskingPolygon:"POLYGON((668010.063156992 6750719.23021889,928912.612468322 6757273.20343972,930494.610325512 6577553.43685138,675236.835570551 6571367.64964125,668010.063156992 6750719.23021889))",getColorFromProperties:function(e){return e.kampagne.color},itemFilterFunction:X,classKeyFunction:function(e){var n;return null===e||void 0===e||null===(n=e.kampagne)||void 0===n?void 0:n.bezeichnung},convertItemToFeature:function(e){var n=Y(e);return n.properties.genericLinks=[F({setWaiting:W,item:n.properties,jwt:S,setJWT:K,setLoginInfo:_})],n},alwaysShowAllFeatures:!1,getFeatureStyler:function(){return function(e){var n,t,i=new v.a(e.properties.color);return!0===e.selected?(t=.85,n=pe):(t=.6,n=i.darken(.1)),{color:n,weight:2,opacity:.7,fillColor:i,fillOpacity:t}}},children:[void 0===S&&Object(A.jsx)(B,{setJWT:K,loginInfo:P,setLoginInfo:_},"login."),void 0!==S&&Object(A.jsx)(T,{logout:function(){K(void 0),_({color:"#69D2E7",text:"Sie wurden erfolgreich abgemeldet."}),setTimeout((function(){_()}),2500)},jwt:S}),Object(A.jsx)(D,{waiting:M}),Object(A.jsx)(be,{gazData:x,jwt:S,setJWT:K,setLoginInfo:_})]})},ye=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,737)).then((function(n){var t=n.getCLS,i=n.getFID,a=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),i(e),a(e),r(e),o(e)}))};o.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(ke,{})}),document.getElementById("root")),ye()}},[[731,1,2]]]);
//# sourceMappingURL=main.c55f8860.chunk.js.map